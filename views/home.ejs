<%- include("partials/header") %>


<!--BEGAINING OF Call to action Section--->   
<!-- BEGINNING OF Call to Action Section -->
<section class="Call_to_action_section ">
  <div class="img_container">
    <img src="Images/tourist-carrying-luggage.jpg" alt="Background Image" class="background_image ">
    <img src="Images/bg2.jpg" alt="Background Image" class="background_image">
    <img src="Images/img4.jpg" alt="Background Image" class="background_image ">
    <img src="Images/bg680_n_18757875.webp" alt="Background Image" class="background_image ">
  </div>

  <article class="Call_to_action_text_container pb-5">
    <div class="landing_text">
      <h1 id="hero_text">Explore Our Best Destination Today</h1>
      <h4 id="second_hero_text">Find the perfect place to take a tour.</h4>
    </div>

    <!-- Find your flight box -->
    <div class="find_flight_raidio_container">
      <div class="find-flight position-relative">
        <button class="btn btn-danger find_flight_flex_container" id="findFlightBtn" onclick="toggleDropdown()">Find Your Flight</button>
        <div id="dropdown" class="dropdown-content p-4 shadow" style="display:none;">
            <div class="search-option mb-4">
                <h5>Search by Flight Number</h5>
                <input type="text" class="form-control mb-2" placeholder="e.g., AA1234" id="flightNumber">
                <button class="btn btn-success" onclick="searchByFlightNumber()">Search</button>
            </div>
            <div class="search-option mb-4">
                <h5>Search by Route</h5>
                <input type="text" class="form-control mb-2" placeholder="From" id="fromRoute">
                <input type="text" class="form-control mb-2" placeholder="To" id="toRoute">
                <input type="date" class="form-control mb-2" id="routeDate">
                <button class="btn btn-success" onclick="searchByRoute()">Search</button>
            </div>
            <div class="search-option mb-4">
                <h5>Search by Date</h5>
                <input type="date" class="form-control mb-2" id="dateSearch">
                <select class="form-select mb-2" id="timeOfDay">
                    <option value="">Choose Departure Time</option>
                    <option value="morning">Morning</option>
                    <option value="afternoon">Afternoon</option>
                    <option value="evening">Evening</option>
                </select>
                <button class="btn btn-success" onclick="searchByDate()">Search</button>
            </div>
            <div class="recent-searches">
                <h6>Recent Searches</h6>
                <ul class="list-unstyled" id="recentSearchList">
                    <li><a href="#">AA1234</a></li>
                    <li><a href="#">DL5678</a></li>
                    <li><a href="#">UA9101</a></li>
                </ul>
            </div>
            <a href="/contact" class="d-block text-primary mt-2 help-link">Need help? Contact us.</a>
        </div>
    </div>
    </div>

      <!-- Radio button section -->
      <form action="" class="radio_container">
        <span class="dot"></span>
        <span class="dot"></span>
        <span class="dot"></span>
        <span class="dot"></span>
      </form>
    </div>
  </article>
</section>
<!-- END OF Call to Action Section -->

    <!--END OF Call to action Section-=====================================================================================================-->    
    
     <!--A scroll to the arrow div starts here-->
  <a href="/" id="scroll_arrow">
    <div class="up-arrow">
      <span class="up-arrow-a" >&uparrow; </span>
    </div>
 </a>
  
  <!--A scroll to the arrow div ends here-->

    <!--New website section-->
    <section class="new_website_container">
      <div class="new_web_site_text ">
       <h2>New WebSite</h2>
       <p>To help Visitor travel from Robert International Airport</p>
      </div>
   
      <div class="new_website_grid_container container-fluid" id="newWebsite"> 
       <a href="/about" class="grid">
             <i class="fa-solid fa-mound"></i>
             <p>ABOUT - US</p>
          
           
       </a>
         
          <a href="/newsroom" class="grid g2">
           <i class="fa-solid fa-snowplow"></i>
           <p>NEWS ROOM</p>
         </a>
           <a href="/parking_transport" class="grid">
             <i class="fa-solid fa-car-side"></i>
             <p>PARKING</p>
           </a>
           <a href="/faqs" class="grid">
             <i class="fa-solid fa-question"></i>
             <P>FAQS</P>
           </a>
           <a href="/flight_info" class="grid g5"> 
             <i class="fa-solid fa-plane-departure"></i>
             <P>AIRLINE INFORMATION</P>
           </a>
           <a href="/business_opportities" class="grid">
            <i class="fa-solid fa-hand-holding-dollar"></i>
             <P>BUSINESS OPPORTUNITY</P>
           </a>
      </div>
   </section>
<!--------END OF New website section--------------------------------------------------------------------------------------------------------------------------------------->


<!--This is the subscribe to the newsletter section-->
<section class="subscribe_to_newsletter_container" id="subscribe_to_newsletter_container">
  <div class="subscribe_to_newsletter_div">
      <h2 class="subscribe_label">SUBSCRIBE TO OUR NEWSLETTER</h2>
      <p class="subscribe_paragraph">The quick brown fox jumps over the lazy dog, and that line is the only line that contains all the alphabet letters.</p>
  </div>

  <form id="subscribeForm" class="subscribe_form">
      <input type="email" name="email" id="subscriberName" placeholder="EMAIL ADDRESS" required />
      <button type="submit" class="btn btn-primary">SUBSCRIBE</button>
  </form>

 <div class="alert alert-primary alert-dismissible fade show d-none">
    <strong>Subscribed!</strong>  Your email has been sent successfully.
    <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
</div>

<div class="alert alert-danger alert-dismissible fade show d-none">
  <strong>Error!</strong> A problem has been occurred while submitting your data.
  <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
</div>
</section>


<script>
  document.getElementById('findFlightBtn').addEventListener('click', function() {
      const dropdown = document.getElementById('dropdown');
      dropdown.style.display = dropdown.style.display === 'none' ? 'block' : 'none';
  });

  function searchByFlightNumber() {
      const flightNumber = document.getElementById('flightNumber').value;
      // Implement search logic here
      alert('Searching for flight: ' + flightNumber);
  }

  function searchByRoute() {
      const from = document.getElementById('fromRoute').value;
      const to = document.getElementById('toRoute').value;
      const date = document.getElementById('routeDate').value;
      // Implement search logic here
      alert(`Searching from ${from} to ${to} on ${date}`);
  }

  function searchByDate() {
      const date = document.getElementById('dateSearch').value;
      const time = document.getElementById('timeOfDay').value;
      // Implement search logic here
      alert(`Searching for flights on ${date} during ${time}`);
  }


  // THE AXIOS REQUEST 
 
    async function searchByFlightNumber() {
        const flightNumber = document.getElementById('flightNumber').value;
        try {
            const response = await axios.post('/api/search/flight-number', { flightNumber });
            alert('Flight found: ' + JSON.stringify(response.data));
        } catch (error) {
            alert('Error fetching flight data: ' + error.response.data.error);
        }
    }

    async function searchByRoute() {
        const from = document.getElementById('fromRoute').value;
        const to = document.getElementById('toRoute').value;
        const date = document.getElementById('routeDate').value;

        try {
            const response = await axios.post('/api/search/route', { from, to, date });
            alert('Flights found: ' + JSON.stringify(response.data));
        } catch (error) {
            alert('Error fetching flight data: ' + error.response.data.error);
        }
    }

    async function searchByDate() {
        const date = document.getElementById('dateSearch').value;
        const time = document.getElementById('timeOfDay').value;
        try {
            const response = await axios.post('/api/search/date', { date, time });
            alert('Flights found: ' + JSON.stringify(response.data));
        } catch (error) {
            alert('Error fetching flight data: ' + error.response.data.error);
        }
    }
</script>


<style>

  .find-flight {
      position: relative;
      display: block;
  }
  #dropdown {
      position: absolute;
      background-color: white;
      border: 1px solid #ccc;
      padding: 15px;
      z-index: 1;
      width: 100%;
  }
  .search-option {
      margin-bottom: 15px;
  }
  .recent-searches {
      margin-top: 10px;
  }
  .recent-searches ul {
      list-style-type: none;
      padding: 0;
  }
  .help-link {
      display: block;
      margin-top: 10px;
      color: blue;
  }
</style>

<script>
var slideIndex = 0;
var timeout; // To hold the timeout reference
showImg();

function showImg() {
  var images = $(".background_image");
  var circle = $(".dot");

  // Check if images and dots exist
  if (images.length === 0 || circle.length === 0) return;

  // Hide all images
  images.css("display", "none");

  // Increment slideIndex
  slideIndex++;
  if (slideIndex > images.length) {
    slideIndex = 1;
  }

  // Show current image with fade effect
  images.eq(slideIndex - 1).fadeIn(500);

  // Update dots
  circle.removeClass("active").eq(slideIndex - 1).addClass("active");

  // Clear the previous timeout and set a new one
  clearTimeout(timeout);
  timeout = setTimeout(showImg, 3000);
}
</script>

<%- include("partials/footer") %>